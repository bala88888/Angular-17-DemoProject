<div class="shopping-cart">
  <h2>My Shopping Bag</h2>

  <table>
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Subtotal</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartItems()">
        <td class="product-cell">
          <img [src]="item.image" width="60" />
          <div class="product-info">
            <strong>{{ item.name }}</strong>
            <p>Price: ${{ item.price }}</p>
          </div>
        </td>
        <td>
          <input
            type="number"
            [value]="item.quantity()"
            (input)="updateQuantity(item.id, $any($event.target).value)"
            min="1"
          />
        </td>
        <td>${{ item.price * item.quantity() }}</td>
      </tr>
    </tbody>
  </table>

  <div class="summary">
    <div class="totals">
      <p>Subtotal: <strong>${{ subtotal() }}</strong></p>
      <p>Shipping: <strong>${{ shipping() }}</strong></p>
      <p>Total: <strong>${{ total() }}</strong></p>
    </div>

    <div class="coupon-section"> 
      <input
        type="text"
        placeholder="Enter coupon code"
        [value]="couponCode()"
        (input)="couponCode.set($any($event.target).value)"
      />
      <button (click)="applyCoupon()">Apply Coupon</button>
    </div>

    <button class="proceed-button">Proceed to payment</button>
  </div>
</div>
